<script src="LinkedList.js"></script>

<script>
// (A-B)U(B-A)
function merge1(listA,listB){
    var list=new LinkedList();
    /*
    var iterA=listA.createIterator();
    while(iterA.hasNext()){
        var m=iterA.next();
        if(!listB.contains(m)){
            list.add(m);
        }
    }

    var iterB=listB.createIterator();
    while(iterB.hasNext()){
        var m=iterB.next();
        if(!listA.contains(m)){
            list.add(m);
        }
    }
    */
    
    list.addAll(listA);
    var iterB=listB.createIterator();
    while(iterB.hasNext()){
        var m=iterB.next();
        var idx=list.indexOf(m);
        if(idx>=0){
           //从list中删除m
           list.removeByIdx(idx);
        }else{
            list.add(m);
        }
    }

    return list;
}

function main(){
    /*var staticList=new StaticListP();
    for(var i=0;i<5;i++){
        var idx=staticList.alloc();
        staticList.setObj(i,"haha"+i);
    }
    console.log("1->",staticList.ary,staticList.freeIdxs);
    for(var i=0;i<5;i++){
        staticList.free(i);
    }
    console.log("2->",staticList.ary,staticList.freeIdxs);
    var idx=staticList.alloc();
    console.log("alloc idx1->",idx);
    var idx2=staticList.alloc();
    console.log("alloc idx2->",idx2);
    console.log("3->",staticList.ary,staticList.freeIdxs);
    staticList.setObj(idx,"idx1");
    staticList.setObj(idx2,"idx2");
    console.log("4->",staticList.ary,staticList.freeIdxs);
	console.log("hello",staticList.getObj(idx2));
    */
    /*
    var list=new LinkedList();
    for(var i=0;i<5;i++){
        list.add("haha"+i);
    }
    console.log(list);
    for(var i=0;i<list.size();i++){
        console.log(i,list.get(i));
    }
   
    list.add("this is insert",2);

    for(var i=0;i<list.size();i++){
        console.log(i,list.get(i));
    }
    
    try{
        list.add("ddd",-1);
    }catch(err){
        console.log(err);
    }
     list.add("ddd",0);
     list.add("last");
      console.log(list,list.size());
      for(var i=0;i<list.size();i++){
        console.log(i,list.get(i));
    }*/
    var listA=new LinkedList();
    for(var i=0;i<5;i++){
        listA.add("haha"+i);
    }
    var listB=new LinkedList();
    listB.add("haha"+3);
    listB.add("nihao");

    var list1=merge1(listA,listB);
    var iter1=list1.createIterator();
    while(iter1.hasNext()){
        console.log(iter1.next());
    }

    
}
main();
</script>
